# Example SSH config (template)
#
# This file is intended to be treated as a secret in your PRIVATE repo:
#   1) git secret add secrets/ssh_config
#   2) git secret hide -f
#   3) On a new machine: git secret reveal -f
#   4) Install via secrets/manifest.yml rule:
#        ssh_config: "~/.ssh/config"
#
# Notes:
# - Do NOT store private keys in git (even encrypted). Use Keychain/1Password/YubiKey.
# - Prefer using IdentityAgent / SSH_AUTH_SOCK from an agent (e.g. 1Password) rather than IdentityFile.

# ------------------------------------------------------------------------------
# Defaults
# ------------------------------------------------------------------------------
Host *
  ServerAliveInterval 60
  ServerAliveCountMax 3
  TCPKeepAlive yes
  AddKeysToAgent yes
  UseKeychain yes
  IdentitiesOnly yes

  # macOS: store passphrases in Keychain
  # (No need to set IdentityFile here unless you really want to.)

  # If you use 1Password SSH agent, you usually use this socket:
  # IdentityAgent "~/Library/Group Containers/2BUA8C4S2C.com.1password/t/agent.sock"

  # Reasonable crypto defaults (modern OpenSSH generally does fine without these)
  # PubkeyAcceptedAlgorithms +ssh-ed25519
  # HostkeyAlgorithms +ssh-ed25519

# ------------------------------------------------------------------------------
# GitHub
# ------------------------------------------------------------------------------
Host github.com
  HostName github.com
  User git
  PreferredAuthentications publickey

  # If you use a specific key (NOT recommended if you rely on an agent):
  # IdentityFile ~/.ssh/id_ed25519_github

# Short alias
Host gh
  HostName github.com
  User git

# ------------------------------------------------------------------------------
# Example: Work jump host + internal host behind it
# ------------------------------------------------------------------------------
# Jump host (bastion)
Host bastion
  HostName bastion.example.com
  User your_user
  Port 22

# Internal host reachable via ProxyJump
Host internal-app
  HostName 10.0.0.10
  User your_user
  ProxyJump bastion
  Port 22

# ------------------------------------------------------------------------------
# Example: Custom port / local forwarding
# ------------------------------------------------------------------------------
Host myserver
  HostName your.server.com
  User your_user
  Port 2222
  # LocalForward 5432 127.0.0.1:5432

# ------------------------------------------------------------------------------
# End
# ------------------------------------------------------------------------------
