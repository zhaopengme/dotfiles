#!/usr/bin/env zsh

# ============================================
# .zshenv - 核心环境变量配置
# ============================================
# 这个文件在所有 zsh 实例中都会加载（login/non-login, interactive/non-interactive）
# 适合设置 PATH 和核心环境变量
# 注意：不要在这里输出任何内容，会影响非交互式脚本

# ============================================
# 编辑器配置
# ============================================
export EDITOR=nvim
export VISUAL=nvim

# ============================================
# 语言和编码
# ============================================
export LC_ALL="en_US.UTF-8"
export LANG="en_US.UTF-8"

# ============================================
# PATH 配置 - 使用 typeset -U 确保路径唯一
# ============================================
typeset -U path  # 确保 PATH 中的路径不重复

# 用户自定义路径（跨平台）
path=(
  $HOME/.bin
  $HOME/.dotfiles/bin
  $HOME/.local/bin
  $path
)

# 条件添加语言工具路径
[[ -d "$HOME/go/bin" ]] && path+=("$HOME/go/bin")
[[ -d "$HOME/.go/bin" ]] && path+=("$HOME/.go/bin")
[[ -d "$HOME/.cargo/bin" ]] && path+=("$HOME/.cargo/bin")

# tmux 工具路径
[[ -d "$HOME/.config/tmux/bin" ]] && path+=("$HOME/.config/tmux/bin")

# Bun 路径
[[ -d "$HOME/.bun/bin" ]] && path+=("$HOME/.bun/bin")

# 导出 PATH
export PATH

# ============================================
# 其他核心环境变量
# ============================================
# Don't clear the screen after quitting a manual page
export MANPAGER="less -X"
