# Ghostty + tmux 快捷键速查表

所有快捷键映射到 macOS `⌘ Command` 键，对应 tmux 前缀键 `Ctrl+B`。

---

## 🪟 窗口管理

| 快捷键 | tmux 命令 | 说明 |
|--------|-----------|------|
| `⌘T` | `prefix + c` | 新建窗口 |
| `⌘1` | `prefix + 1` | 切换到窗口 1 |
| `⌘2` | `prefix + 2` | 切换到窗口 2 |
| `⌘3` | `prefix + 3` | 切换到窗口 3 |
| `⌘4` | `prefix + 4` | 切换到窗口 4 |
| `⌘5` | `prefix + 5` | 切换到窗口 5 |
| `⌘6` | `prefix + 6` | 切换到窗口 6 |
| `⌘7` | `prefix + 7` | 切换到窗口 7 |
| `⌘8` | `prefix + 8` | 切换到窗口 8 |
| `⌘9` | `prefix + 9` | 切换到窗口 9 |
| `⌘[` | `prefix + p` | 切换到上一个窗口 |
| `⌘]` | `prefix + n` | 切换到下一个窗口 |
| `⌘,` | `prefix + ,` | 重命名当前窗口 |
| `⌘⇧,` | `prefix + $` | 重命名当前会话 |

---

## 📱 面板操作

### 面板分割
| 快捷键 | tmux 命令 | 说明 |
|--------|-----------|------|
| `⌘D` | `prefix + "` | 垂直分割（上下） |
| `⌘Enter` | `prefix + %` | 水平分割（左右） |

### 面板导航（Vim 风格）
| 快捷键 | tmux 命令 | 说明 |
|--------|-----------|------|
| `⌘H` | `prefix + h` | 移动到左侧面板 |
| `⌘J` | `prefix + j` | 移动到下方面板 |
| `⌘K` | `prefix + k` | 移动到上方面板 |
| `⌘L` | `prefix + l` | 移动到右侧面板 |

### 面板管理
| 快捷键 | tmux 命令 | 说明 |
|--------|-----------|------|
| `⌘W` | `prefix + x` | 关闭当前面板 |
| `⌘Z` | `prefix + z` | 面板缩放/全屏切换 |
| `⌘O` | `prefix + o` | 交换面板位置 |
| `⌘;` | `prefix + ;` | 切换到上一个活动面板 |

### 面板大小调整
| 快捷键 | tmux 命令 | 说明 |
|--------|-----------|------|
| `⌘⇧H` | `prefix + H` | 向左扩展面板 |
| `⌘⇧J` | `prefix + J` | 向下扩展面板 |
| `⌘⇧K` | `prefix + K` | 向上扩展面板 |
| `⌘⇧L` | `prefix + L` | 向右扩展面板 |

---

## 🗂️ 会话管理

| 快捷键 | tmux 命令 | 说明 |
|--------|-----------|------|
| `⌘N` | `prefix + N` | 新建会话（基于当前目录） |
| `⌘O` | `prefix + S` | 会话列表（选择切换） |
| `⌘⇧D` | `prefix + d` | 分离当前会话 |
| `⌘⇧X` | `prefix + X` | 关闭当前会话 |
| `⌘⇧I` | `prefix + I` | 同步面板输入 |
| `⌘U` | `prefix + U` | Popup 会话（临时窗口） |

---

## 🎯 快捷弹窗

| 快捷键 | tmux 命令 | 说明 |
|--------|-----------|------|
| `⌘R` | `prefix + R` | 命令选择器弹窗 |
| `⌘G` | `prefix + g` | 临时终端（scratch pad） |
| `⌘M` | `prefix + M` | 快速查看 man 手册 |
| `⌘⇧G` | `prefix + G` | Git 状态弹窗 |

---

## 💾 会话保存/恢复

| 快捷键 | tmux 命令 | 说明 |
|--------|-----------|------|
| `⌘⇧S` | `prefix + Ctrl+S` | 保存会话（tmux-resurrect） |
| `⌘⇧R` | `prefix + Ctrl+R` | 恢复会话（tmux-resurrect） |

---

## 🔧 TPM 插件管理

| 快捷键 | tmux 命令 | 说明 |
|--------|-----------|------|
| `⌘P` | `prefix + P` | 清理未使用的插件 |
| `⌘⇧C` | `prefix + C` | 取消插件安装 |

> **注意**: TPM 插件安装/更新请在 tmux 内直接使用 `Ctrl+B I` 或 `Ctrl+B U`

---

## 💡 使用技巧

### 推荐工作流
```
1. 打开项目
   → Ghostty 自动创建以目录名为名的 tmux 会话

2. 分割面板
   ⌘Enter  水平分割（编辑器 | 终端）
   ⌘D      垂直分割（上下分割）

3. 导航面板
   ⌘H/J/K/L  Vim 风格快速切换

4. 缩放面板
   ⌘Z  临时全屏当前面板

5. 多窗口工作
   ⌘T     新建窗口
   ⌘1-9   快速切换
```

### tmux 原生快捷键

在 tmux 内部，仍然可以使用原生快捷键：

```
Ctrl+B ?        显示所有快捷键
Ctrl+B :        进入命令模式
Ctrl+B [        进入复制模式
Ctrl+B ]        粘贴
Ctrl+B Tab      切换到最后一个面板
```

### 面板调整技巧

按住 `⌘⇧` 然后连续按 `H/J/K/L` 可以精细调整面板大小：
- 每次按压调整 5 个单位
- 需要在 tmux 配置中设置步长

---

## 🔍 故障排查

### 快捷键不响应？

```bash
# 1. 确认 tmux 正在运行
echo $TMUX

# 2. 检查 tmux 前缀键配置
tmux show-options -g | grep prefix
# 应显示: prefix C-b

# 3. 验证快捷键绑定
tmux list-keys | grep "C-b"
```

### 会话名称总是 "main"？

会话名基于启动目录生成。确保在项目目录中启动 Ghostty：
```bash
cd ~/projects/myproject
# 然后打开 Ghostty
```

---

## 📚 相关文件

- **Ghostty 配置**: `~/.config/ghostty/config`
- **tmux 配置**: `~/.tmux.conf`
- **启动脚本**: `~/.config/ghostty/start-tmux.sh`

---

**tmux 前缀键**: `Ctrl+B` (ASCII `\x02`)  
**最后更新**: 2024
